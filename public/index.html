<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="/__/firebase/7.14.2/firebase-app.js"></script>
		<script src="/__/firebase/7.14.2/firebase-functions.js"></script>

		<!-- Initialize Firebase -->
		<script src="/__/firebase/init.js"></script>

	</head>

	<body>
		<button id='testBtn' style='background:green;width: 100px; height: 100px;'>CLICK ME</button>

		<!--TEST script to demonstrate how to access server-side functions-->
		<script>
			var functions = firebase.functions();
			window.onload = function () {
				console.log('Loaded');
				let btn = document.getElementById('testBtn');
				btn.addEventListener('click', async function () {
					console.log('Clicked button');
					//Get the function we need to use
					let serverFunction = functions.httpsCallable('test');
					//Use it
					let serverMessage = await serverFunction({ 'message': 'I got tested.' });
					console.log(serverMessage);
				});
			}
		</script>
	</body>

</html>